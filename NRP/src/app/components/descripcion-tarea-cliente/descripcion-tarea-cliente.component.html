<!DOCTYPE html>
<html lang="en">

<head>
    <title>Pagina crear tarea jefe de proyecto</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>

<body>
    <div class="container">

        <!--Inicio del menu-->
        <menu></menu>
        <!--Fin del menu-->

        <!--Inicio del contenido de INICIO-->

        <div class="row">
          <div class="col">
              <h1 class="text-black mt-3 ms-4">{{requisito.nombre}}</h1>
          </div>
          <div class="col-1">
              <a [routerLink]="['/proyecto',proyecto._id]"><img class="mt-4" src="./assets/flecha-hacia-atras.png" alt="atras" width="50" height="50" /></a>
          </div>
      </div>
    <div class ="mt-3 ms-4" *ngIf="arrUsuariosResponsables.length==0">
            <h2>No hay ningún usuario asignado a la tarea</h2>
    </div>
        <div *ngIf="arrUsuariosResponsables.length!=0" class="row mt-3 ms-4 ">
            <div class="row ">
                <div class="col-8 mb-3 ">
                    <h2>Responsables de la tarea</h2>
                    <table class="table">
                        <thead>
                          <tr>
                            <th scope="col">#</th>
                            <th scope="col">Nombre</th>
                            <th scope="col">Peso del usuario en el proyecto</th>
                            <th scope="col">Importancia asignada a la tarea</th>
                            <th scope="col">Contribución</th>
                          </tr>
                        </thead>
                        <tbody *ngFor="let usuario of arrUsuariosResponsables;let indice = index">
                          <tr>
                            <th scope="row">{{indice + 1}}</th>
                            <td class="text-center">{{usuario.nombre}}</td>
                            <td class="text-center">{{pesosUsuarios[indice]}}</td>
                            <td *ngIf="requisito.prioridad[indice].valor == 0" class="text-center">Importancia sin asignar aún</td>
                            <td *ngIf="requisito.prioridad[indice].valor != 0" class="text-center">{{requisito.prioridad[indice].valor}}</td>
                            <td *ngIf = "contribucion[indice].contribucion == null"  class="text-center">---</td>
                            <td *ngIf = "contribucion[indice].contribucion == 0"  class="text-center">No está dentro de la solución</td>
                            <td *ngIf = "contribucion[indice].contribucion != 0" class="text-center">{{contribucion[indice].contribucion}}</td>
                          </tr>
                        </tbody>
                      </table>
                </div>
            </div>
            
            <div class="row ">
                <div class="col-5 mb-3 ">
                    <h2 for="exampleFormControlTextarea1 " class="form-label ">Descripción de la tarea </h2>
                    <section>
                        {{requisito.descripcion}}
                    </section>
                </div>
            </div>
            
        </div>

        <!-- Fecha inicio y ficha fin-->
        <div class="row m-2 ms-4 mt-5">
            <div class="col-4">
                <label for="fechaInicio"><strong>Fecha inicio:</strong></label>
                {{requisito.fechaInicio}}
            </div>
            <div class="col-4">
                <label for="fechaInicio"><strong>Fecha fin:</strong></label>
                {{requisito.fechaFin}}
            </div>
        </div>


        <div class="row justify-content-end mt-4 ">
      <div class="col-4 mt-2">
                <button type="button " class="btn btn-danger ms-5 mt-2 " (click) = "borrarRequisito()">
                    Terminar tarea
                     </button>
                     <button type="button " class="btn btn-success ms-3 mt-2 " [routerLink]="[ '/editar-tarea', proyecto._id,requisito._id] ">
                       Editar tarea 
                         </button>
      </div>
</div>

        <!--Fin del contenido de INICIO-->
    </div>
</body>

</html>